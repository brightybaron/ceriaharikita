import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as o}from"./index.BVOCwoKb.js";const N=({images:s=[],initialIndex:g=0,onClose:i=()=>{}})=>{if(!s||s.length===0)return null;const[l,d]=o.useState(g),[f,n]=o.useState(1),[x,c]=o.useState(!1),[u,r]=o.useState(0),[a,j]=o.useState(0),m=o.useCallback(()=>{d(t=>(t+1)%s.length),n(1)},[s.length]),w=o.useCallback(()=>{d(t=>(t-1+s.length)%s.length),n(1)},[s.length]),v=()=>{n(t=>Math.min(t+.25,3))},b=()=>{n(t=>Math.max(t-.25,.5))},k=t=>{c(!0),r(t.pageX-a)},y=t=>{if(!x)return;t.preventDefault();const h=t.pageX-u;j(h)},p=()=>{c(!1)};return o.useEffect(()=>{const t=h=>{h.key==="Escape"&&i(),h.key==="ArrowRight"&&m(),h.key==="ArrowLeft"&&w()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[m,w,i]),s[l]?e.jsxs("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center h-screen w-full",children:[e.jsx("button",{onClick:i,className:"absolute top-4 right-4 text-white hover:text-gray-300 z-50",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-8 h-8",children:[e.jsx("path",{d:"M18 6 6 18"}),e.jsx("path",{d:"m6 6 12 12"})]})}),s.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:w,className:"absolute sm:left-8 left-4 text-white sm:bg-gray-800 bg-transparent hover:text-gray-300 z-50 hover:scale-105 hover:bg-gray-600 rounded-sm",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24 ",fill:"none",stroke:"#ffffff",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"w-8 h-8",children:e.jsx("path",{d:"m15 18-6-6 6-6"})})}),e.jsx("button",{onClick:m,className:"absolute sm:right-8 right-4 text-white sm:bg-gray-800 bg-transparent hover:text-gray-300 z-50 hover:scale-105 hover:bg-gray-600 rounded-sm",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#ffffff",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"w-8 h-8",children:e.jsx("path",{d:"m9 18 6-6-6-6"})})})]}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-4 z-50",children:[e.jsx("button",{onClick:b,className:"bg-white/20 p-2 rounded-full hover:bg-white/30",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6 text-white",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65"}),e.jsx("line",{x1:"8",x2:"14",y1:"11",y2:"11"})]})}),e.jsx("button",{onClick:v,className:"bg-white/20 p-2 rounded-full hover:bg-white/30",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6 text-white",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65"}),e.jsx("line",{x1:"11",x2:"11",y1:"8",y2:"14"}),e.jsx("line",{x1:"8",x2:"14",y1:"11",y2:"11"})]})})]}),e.jsx("div",{className:"h-screen w-full overflow-auto cursor-grab active:cursor-grabbing",onMouseDown:k,onMouseMove:y,onMouseUp:p,onMouseLeave:p,children:e.jsx("div",{className:"h-screen min-w-full flex items-center justify-center transition-transform duration-200 p-4",style:{transform:`scale(${f}) translateX(${a}px)`},children:e.jsx("img",{src:s[l],alt:`Image ${l+1}`,className:"max-h-full max-w-full object-contain select-none",loading:"lazy"})})}),s.length>1&&e.jsxs("div",{className:"absolute bottom-4 right-4 text-white bg-black/50 px-3 py-1 rounded-full",children:[l+1," / ",s.length]})]}):null},M=({images:s,bucketUrl:g})=>{const[i,l]=o.useState(!1),[d,f]=o.useState(0),n=s?.map(r=>`${g}/${r.url}`)||[],x=n.findIndex(r=>r.toLowerCase().includes("main")),c=x!==-1?x:0,u=r=>{f(r),l(!0)};return e.jsxs("div",{className:`grid grid-cols-1 ${n.length>1?"sm:grid-cols-3":""} gap-4 mb-8`,children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx("img",{src:n[c],alt:"Main gallery image",className:"w-full h-auto sm:h-96 object-cover object-center sm:object-top rounded-lg cursor-pointer aspect-square sm:aspect-auto",onClick:()=>u(c),loading:"lazy"})}),e.jsx("div",{className:"grid sm:grid-cols-1 grid-cols-none sm:grid-flow-row grid-flow-col auto-cols-[33.3%] sm:gap-4 gap-2 max-h-96 overflow-scroll",children:n.slice(1).map((r,a)=>e.jsx("img",{src:r,alt:`Gallery image ${a+1}`,className:"w-full h-full sm:aspect-auto aspect-square sm:h-28 object-cover rounded-md cursor-pointer",onClick:()=>u(a),loading:"lazy"},a))}),i&&e.jsx(N,{images:n,initialIndex:d,onClose:()=>l(!1)})]})};export{M as default};
